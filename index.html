<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bybit Trade Analyzer</title>
  <style>
    body {
      background: linear-gradient(135deg, #111, #222);
      color: white;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }
    h1 { font-size: 24px; margin-bottom: 10px; }
    .container { display: grid; grid-template-columns: 1fr 2fr 1fr; gap: 20px; }
    .card {
      background: #1e1e1e;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 0 10px #000;
    }
    input, button, select {
      padding: 8px;
      border-radius: 6px;
      border: none;
      margin: 4px 0;
      width: 100%;
    }
    button { cursor: pointer; font-weight: bold; }
    .btn-buy { background: green; color: white; }
    .btn-sell { background: red; color: white; }
    .btn-ai { background: purple; color: white; }
    .price { font-size: 28px; font-weight: bold; margin: 10px 0; }
    .log { max-height: 250px; overflow-y: auto; font-size: 12px; background: #111; padding: 10px; border-radius: 8px; }
    .log div { margin-bottom: 6px; }
  </style>
</head>
<body>
  <h1>Bybit Trade Analyzer (HTML + CSS + JS)</h1>
  
  <div class="container">
    <!-- Left panel -->
    <div class="card">
      <h3>Controls</h3>
      <label>Symbol</label>
      <select id="symbolSelect">
        <option>BTCUSDT</option>
        <option>ETHUSDT</option>
        <option>SOLUSDT</option>
      </select>
      <label>Entry Price</label>
      <input type="number" id="entryPrice" placeholder="Entry">
      <label>Exit Price</label>
      <input type="number" id="exitPrice" placeholder="Exit">
      <label>Side</label>
      <select id="side">
        <option value="LONG">LONG</option>
        <option value="SHORT">SHORT</option>
      </select>
      <label>Position Size (USD)</label>
      <input type="number" id="sizeUSD" value="100">
      
      <button class="btn-buy" onclick="sendTrade('BUY')">Buy / Open</button>
      <button class="btn-sell" onclick="sendTrade('SELL')">Sell / Close</button>
      <button class="btn-ai" onclick="aiAnalyze()">AI Analyze</button>
    </div>
    
    <!-- Middle panel -->
    <div class="card">
      <h3>Market</h3>
      <div>Selected: <span id="selectedSymbol">BTCUSDT</span></div>
      <div class="price" id="livePrice">--</div>
      <div>Entry: <span id="entryShow">--</span> | Exit: <span id="exitShow">--</span></div>
      <div id="aiResult"></div>
    </div>
    
    <!-- Right panel -->
    <div class="card">
      <h3>Activity Log</h3>
      <div class="log" id="logBox"></div>
    </div>
  </div>
  
  <script>
    const logBox = document.getElementById("logBox");
    const livePriceEl = document.getElementById("livePrice");
    const entryInput = document.getElementById("entryPrice");
    const exitInput = document.getElementById("exitPrice");
    const symbolSelect = document.getElementById("symbolSelect");
    const entryShow = document.getElementById("entryShow");
    const exitShow = document.getElementById("exitShow");
    const aiResult = document.getElementById("aiResult");
    const selectedSymbolEl = document.getElementById("selectedSymbol");
    
    let price = 0;
    
    function log(msg) {
      const el = document.createElement("div");
      el.textContent = new Date().toLocaleTimeString() + " â€” " + msg;
      logBox.prepend(el);
    }
    
    function updatePrice(newPrice) {
      price = newPrice;
      livePriceEl.textContent = price.toFixed(2);
      
      const entry = parseFloat(entryInput.value);
      const exit = parseFloat(exitInput.value);
      entryShow.textContent = entry || "--";
      exitShow.textContent = exit || "--";
      
      if (entry && price >= entry) log(`ðŸš€ Entry hit at ${entry}`);
      if (exit && price >= exit) log(`ðŸ’° Exit hit at ${exit}`);
    }
    
    // Fake random price updates (replace with Bybit WebSocket for real data)
    setInterval(() => {
      updatePrice(50000 + Math.random() * 1000); // simulate BTC price
    }, 2000);
    
    function sendTrade(side) {
      log(`${side} request for ${symbolSelect.value} @ ${price}`);
      // In real use: fetch('/api/trade', {method:'POST', body:JSON.stringify({...})})
    }
    
    function aiAnalyze() {
      log("AI Analyze request...");
      // In real use: call backend
      aiResult.textContent = "AI suggests HOLD / Adjust stop-loss ðŸš¨ (mock)";
    }
    
    symbolSelect.addEventListener("change", () => {
      selectedSymbolEl.textContent = symbolSelect.value;
      log("Symbol changed to " + symbolSelect.value);
    });
  </script>
</body>
</html>
